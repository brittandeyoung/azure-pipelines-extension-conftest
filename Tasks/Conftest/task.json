{
  "$schema": "https://raw.githubusercontent.com/Microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
  "id": "68e34e1e-bb2e-47cf-adba-b7d87548722c",
  "name": "conftest",
  "friendlyName": "Conftest",
  "description": "A task for running Conftest commands",
  "helpMarkDown": "",
  "category": "Utility",
  "author": "BrittanDeYoung",
  "visibility": [
    "Build",
    "Release"
  ],
  "version": {
      "Major": 0,
      "Minor": 0,
      "Patch": 1
  },
  "instanceNameFormat": "Conftest",
  "inputs": [
    {
        "name": "command",
        "type": "pickList",
        "label": "Command",
        "defaultValue": "test",
        "required": true,
        "helpMarkDown": "Select the Conftest command to run, or select CLI to run a Terraform command line script in an authenticated environment.",
        "options": {
            "parse": "parse",
            "pull": "pull",
            "push": "push",
            "test": "test",
            "verify": "verify"
        }
    },
  {
    "name": "file",
    "type": "filePath",
    "label": "File",
    "defaultValue": "",
    "required": true,
    "helpMarkDown": "Fully qualified path of the file to evaluate",
    "visibleRule": "command = test || command = parse"
  },
  {
    "name": "filepath",
    "type": "filePath",
    "label": "FilePath",
    "defaultValue": "",
    "required": true,
    "helpMarkDown": "File Path to repo policies",
    "visibleRule": "command = pull || command = push"
  },
  {
    "name": "repository",
    "type": "string",
    "label": "Repository",
    "defaultValue": "",
    "required": true,
    "helpMarkDown": "Repository where you will push policies to or pull polcies from",
    "visibleRule": "command = pull || command = push"
  },
  {
    "name": "arguments",
    "type": "string",
    "label": "Additional Arguments",
    "defaultValue": "",
    "required": false,
    "helpMarkDown": "Additional arguments to pass"
  } 
  ],
  "execution": {
      "Node10": {
          "target": ".bin/Index.js"
      }
  },
  "outputVariables": [
    {
        "name": "conftestLocation",
        "description": "The location of the conftest binary that was installed on the agent."
    }
  ],
  "messages": {
  }
}